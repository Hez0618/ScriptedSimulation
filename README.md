<p align="center">
  <img src="https://github.com/Hez0618/ScriptedSimulation/raw/main/Cover/projectCover.png" alt="ScriptedSimulation Cover" width="85%">
</p>

<h1 align="center">　ScriptedSimulation</h1>

<p align="center">
  ミステリーの舞台を想定した、AI駆動のNPCシミュレーションシステム。
  各キャラクターは記憶・性格・行動構造を持ち、スクリプトとAIによって動的に反応を行います。
</p>

---

> ⚠️ 注意：本プロジェクトはプロトタイプ / 開発中の作品です。
>  コアシステムは動作していますが、完全なシミュレーションは現在も開発中です。

---

## 🧩　概要 / Overview

- **Scripted Simulation** はマーダーミステリのシナリオ設定のもとで構築された、NPC行動生成シミュレーションシステムです。
- PythonスクリプトとJSONファイルによって、NPCごとの記憶内容や内部状態を記録・管理。
- 各NPCには、性格や**バックグラウンド**が与えられており、それに基づいた言動を行います。
- これらの構造化された情報をもとに、生成AI（ChatGPT）がNPCのセリフや行動を動的に生成します。

---

## 🌐 マップ構造 / Map Structure

- この世界はツリー構造で構成されています。
- 列車 (事件が発生する舞台)
- ---車両 1
- ------ 部屋 1 (Aさんの部屋) 
- --------- 机 ("木製の古びた机。長年使われて..."のような描写)  
- ------------ 事件に関する証拠の有無の判定
- --------- 椅子 (...)
- ------------ 事件に関する証拠の有無の判定
- ---車両 2
- ...   

---

## 📸 結果のサンプル / Result Sample 

### 🕵️‍♂️ 事件の概要（第一日目）
- 物語の舞台は密閉された列車内。登場するすべてのNPCは、それぞれマーカス（Marcus）に対して恨みや秘密を抱えており、第一日目の夜、彼に対して何らかの行動を計画していた。
- そしてその夜、マーカスは死亡した

### Ethanのサンプル出力（第二日目）
- 以下は、事件発生の翌日、NPC「イーサン（Ethan）」の状態と応答の一例です。

<p align="center">
  <img src="https://github.com/Hez0618/ScriptedSimulation/raw/main/Cover/log_snapshot.png" alt="Log Snapshot" width="90%">
</p>

---

## 📝 TODOリスト

- リフレクションシステム
      - NPCの出来事や会話を要約・振り返る仕組みの実装
- 位置追跡機能
      - NPCがどの車両・部屋にいるかを記録・参照できるようにする

- 🛠️ 技術面の強化（実装）
      - ローカル環境でのデプロイ対応
      - 多言語対応
      - 情報の可視化ツール
      - プレイヤーとのインタラクション機能

---

## 🔐 APIキーについて / About API key

- 本プロジェクトでは、NPCの行動シミュレーションに**OpenAIのAPI**を使用しています。
- 実行するには、ご自身のAPIキーを用意して設定する必要があります。
